
<div class="container" *ngIf="this.walletService.wallet">
        <!-- Title -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Your Wallet</h1>
            </div>
        </div>
        <div class="row bottom-separator">
            <div class="col-6">
                Balance: {{ walletService.wallet.balance.balanceXTZ / 1000000 | number:'1.0' }} ꜩ  <span *ngIf="walletService.wallet.balance.balanceXTZ > 0">(${{ walletService.wallet.balance.balanceXTZ / 1000000 * walletService.wallet.XTZrate | number:'1.00' }} USD)</span>
            </div>
        </div>

        <!-- Identity -->
        <div class="row row-header">
            <div class="col-sm-auto col-header col-border border border-warning min-size-address-cell">
                Identity
            </div>
            <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                Balance (ꜩ)
            </div>

            <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                Value (USD)
            </div>
        </div>
        
        <div class="row pkh-row" [class.selectedPkh]="selectedPkh === walletService.wallet.accounts[0].pkh" (click)="click(walletService.wallet.accounts[0].pkh)">
            <div class="col-sm-auto col-border border border-warning text-truncate min-size-address-cell" (dblclick)="dblclick(walletService.wallet.accounts[0].pkh)">
                {{ walletService.wallet.accounts[0].pkh }}
            </div>
            <div class="col-sm-auto col-border border border-warning text-truncate min-size-other-cell">
                {{ walletService.wallet.accounts[0].balance.balanceXTZ / 1000000 | number:'1.00' }} ꜩ
            </div>
            <div class="col-sm-auto col-border border border-warning text-truncate min-size-other-cell">
                {{ walletService.wallet.accounts[0].balance.balanceFiat | number:'1.0-0' }} USD
            </div>
        </div>
        <!-- Accounts + Total sections shown only if there are accounts -->
        <span *ngIf="walletService.wallet.accounts[1]">

            <!-- Accounts -->
            <div class="row row-header">
                <div class="col-sm-auto col-header col-border border border-warning min-size-address-cell">
                    Accounts
                </div>
                <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                    Balance (ꜩ)
                </div>

                <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                    Value (USD)
                </div>
            </div>

            <div class="row pkh-row" *ngFor="let account of walletService.wallet.accounts | slice:1" (click)="click(account.pkh)" [class.selectedPkh]="selectedPkh === account.pkh">
                <div class="col-sm-auto col-border border border-warning text-truncate min-size-address-cell" (dblclick)="dblclick(account.pkh)">
                    {{ account.pkh }}
                </div>
                <div class="col-sm-auto col-border border border-warning text-truncate min-size-other-cell">
                    {{ account.balance.balanceXTZ / 1000000 | number:'1.00' }} ꜩ
                </div>
                <div class="col-sm-auto col-border border border-warning text-truncate min-size-other-cell">
                    {{ account.balance.balanceFiat | number:'1.0-0' }} USD
                </div>
            </div>
        </span>
        <!-- Shared Action buttons -->
        <div class="row row-buttons">
                <div class="btn-group btn-group-sm">
                    <app-send [activePkh]="selectedPkh" [actionButtonString]="'btnOutline'"></app-send>
                    <button type="button" class="btn btn-outline-primary btn-op">Receive</button>
                    <app-new-account></app-new-account>
                    <button type="button" class="btn btn-outline-primary btn-op">Details</button>
                </div>
        </div>
        <br><br>
        <span *ngIf="walletService.wallet.accounts[1]">
        <!-- Total - Last row -->
        <div class="row row-header">
            <div class="col-sm-auto col-header col-border border border-warning min-size-address-cell">
                Total
            </div>
            <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                {{ walletService.wallet.balance.balanceXTZ / 1000000 | number:'1.0' }} ꜩ 
            </div>
            <div class="col-sm-auto col-header col-border border border-warning min-size-other-cell">
                $ {{ walletService.wallet.balance.balanceFiat | number:'1.0-0' }} USD 
            </div>
        </div>
    </span>
</div>

<!--
<div id="content">

    <div class="center-content">
        <div class="card text-center fix-size" *ngIf="identity">
        <div class="card-body">
            <h1 class="card-title">Overview</h1>
            <div class="card-text">
                    <table>
                        <tr *ngIf='identity'>
                            <td class='mono'></td>
                            <td></td>
                            <td><a onclick="return false;" href (click)='freeTezzies(identity.pkh)'>Free tezzies</a></td>
                        </tr>
                        
                        <tr  *ngFor="let account of walletService.wallet.accounts">
                            <td class='mono'>{{ account.pkh }}</td><td>{{ account.balance.balanceXTZ / 100 | number:'1.0' }} ꜩ</td><td></td>
                        </tr>
                        <tr>
                            <td *ngIf="walletService.wallet.accounts.length === 0" colspan="2"></td>
    
                            <ng-container *ngIf="walletService.wallet.accounts.length !== 0">
                                <td>Total:</td>
                                <td>{{ walletService.wallet.balance.balanceXTZ / 100 | number:'1.0' }} ꜩ</td>
                            </ng-container>
    
                            <td><app-new-account></app-new-account></td>
                        </tr>
                    </table>
                </div>
        </div>
        </div>
    </div>

</div>
-->
<!-- Default message - No account created -->
<div class="container" *ngIf="!this.walletService.wallet">
    <!-- Title -->
    <div class="row bottom-separator-no-account">
        <div class="col-lg-12">
            <h1 class="page-header-no-account">Overview</h1>
        </div>
    </div>


    <div class="row">
        <div class="col-lg-12">
            <p>You can get all your wallet details and create new accounts in here but before, you will need to <a routerLink="">create or import</a> a wallet.</p>
            <!--
            <p>Before making a backup, you will need to <a routerLink="">create or import</a> a wallet.</p>
            You need to <a routerLink="">create or import</a> a wallet to see this view...
            -->
        </div>
    </div>
</div>
